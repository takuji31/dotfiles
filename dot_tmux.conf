# === 基本設定 ===
set -g default-terminal "tmux-256color"
set -ag terminal-overrides ",xterm-256color:RGB"
set -g mode-keys vi
set -g mouse on
set -g base-index 1
setw -g pane-base-index 1
set -g renumber-windows on
set -g history-limit 10000
set -g escape-time 0
set -g focus-events on

# === Prefix ===
unbind C-b
set -g prefix C-Space
bind C-Space send-prefix

# === ステータスバー ===
set -g status-interval 10
set -g status-style "bg=colour235,fg=colour248"
set -g status-left "#[fg=colour214,bold][#S] "
set -g status-left-length 20
set -g status-right "#[fg=colour248]#T  %m/%d(%a) %H:%M"
set -g status-right-length 60
setw -g window-status-current-style "bg=colour238,fg=colour214,bold"
setw -g window-status-format " #I:#W "
setw -g window-status-current-format " #I:#W "

# === タイトル ===
set -g set-titles on
set -g set-titles-string "#S:#W - #T"

# === ペインレイアウト ===
setw -g main-pane-width 60%
setw -g main-pane-height 70%

# === ウィンドウ移動 (prefix不要) ===
bind -n M-h previous-window
bind -n M-i next-window
bind -n M-Tab last-window

# === ペイン移動 (prefix不要) ===
bind -n M-n select-pane -D
bind -n M-e select-pane -U
bind -n S-Left select-pane -L
bind -n S-Right select-pane -R

# === ペインリサイズ (prefix不要) ===
bind -n M-Left resize-pane -L 3
bind -n M-Right resize-pane -R 3
bind -n M-Up resize-pane -U 3
bind -n M-Down resize-pane -D 3

# === ウィンドウ選択・操作 ===
bind w choose-tree -Zw
bind Tab last-window
bind -r [ previous-window
bind -r ] next-window

# === ウィンドウ作成・分割 ===
bind c new-window -c "#{pane_current_path}"
bind v split-window -h -c "#{pane_current_path}"
bind x split-window -v -c "#{pane_current_path}"

# === セッション ===
bind S choose-session
bind d detach

# === その他 ===
bind r source-file ~/.tmux.conf \; display "Reloaded!"
bind q confirm kill-window
bind Q confirm kill-server
bind A command-prompt "rename-window '%%'"